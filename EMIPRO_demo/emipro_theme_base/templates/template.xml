<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!--======================== Inclusion of Scss Files ======================-->
    <template id="theme_base_assets_frontend" inherit_id="website.assets_frontend">
        <xpath expr="link[last()]" position="after">
            <link rel="stylesheet" type="text/css" href="/emipro_theme_base/static/src/scss/product_slider_editor.scss"/>
            <link rel="stylesheet" type="text/css" href="/emipro_theme_base/static/src/scss/image_hotspot_editor.scss"/>
        </xpath>
    </template>

    <template id="quick_view_container" name="Quick View Container">
        <div class="quick_view_content"/>
    </template>

    <template id="dynamic_mega_menu_child" name="Quick View Container">
        <div class="dynamic_mega_menu_child" t-att-menu_id="current_menu"/>
    </template>
    <template id="ajax_cart_container" name="Ajax Cart Container">
        <div class="ajax_cart_content"/>
    </template>
    <template id="ajax_cart_success_container" name="Ajax Cart Success Container">
        <div class="ajax_cart_success_content"/>
    </template>
    <template id="brand_slider_container" name="Brand Slider Container">
        <section class="brand_slider_content">
        </section>
    </template>
    <template id="category_slider_container" name="Category Slider Container">
        <section class="category_slider_content">
        </section>
    </template>
    <template id="theme_category_carousel" name="common theme category carousel">
		<div class="oe_theme_category_carousel_container w-100">
		</div>
	</template>
    <template id="slider_preview" name="slider Preview">
		<t t-call="website.layout">
			<div class="input-group js_slider_snippet hidden" data-isemipro="true" t-att-data-slider-id="rec_id"/>
	  	</t>
	</template>
    <!--===================== Cart Page Banner =======================-->
    <template id="cart_ept_theme_base" inherit_id="website_sale.cart">
        <xpath expr="//div[@id='wrap']/div[hasclass('container')]"
			position="before">
            <div class="oe_structure" id="te_shop_before_h_section" />
        </xpath>
    </template>
    <template id="contact_us_ept_theme_base" inherit_id="website.contactus" name="Contact Us">
        <xpath expr="//div[hasclass('oe_structure')]" position="replace">
            <div class="oe_structure" id="te_contactus_banner_section">
                <div class="s_title text-center pt32">
                    <h2>Contact Us</h2>
                </div>
            </div>
        </xpath>
    </template>
    <template id="slider_auto_play" inherit_id="website.layout">
        <xpath expr="//header" position="before">
            <div class="te_auto_play_value d-none">
                <span t-if="website.is_auto_play" t-esc="website.is_auto_play"></span>
            </div>
        </xpath>
    </template>

    <template id="variants_extended" inherit_id="sale.variants">
        <xpath expr="//t/ul/li[hasclass('list-inline-item')]" position="replace">
            <li class="list-inline-item" t-foreach="ptal.product_template_value_ids._only_active()" t-as="ptav"
                t-attf-class="list-inline-item #{'te_style_round' if (ptal.attribute_id.icon_style == 'round') else 'te_style_square'} #{'large_item' if ptal.attribute_id.is_swatches else ''}">
                <t t-if="ptal.attribute_id.is_swatches and ptav.product_attribute_value_id.icon">
                    <label data-toggle="tooltip" data1-html="true"
                           t-att-data-title="ptav.product_attribute_value_id.name" data-placement="top"
                           t-attf-style="background-image: url(data:image/*;base64,#{ptav.product_attribute_value_id.icon}) !important; position: relative;"
                           t-attf-class="css_attribute_color #{'active' if ptav in combination else ''} #{'custom_value' if ptav.is_custom else ''}">
                        <input type="radio"
                               t-attf-class="js_variant_change  #{ptal.attribute_id.create_variant}"
                               t-att-checked="ptav in combination"
                               t-att-name="'ptal-%s' % ptal.id"
                               t-att-value="ptav.id"
                               t-att-title="ptav.name"
                               t-att-data-value_id="ptav.id"
                               t-att-data-value_name="ptav.name"
                               t-att-data-attribute_name="ptav.attribute_id.name"
                               t-att-data-is_custom="ptav.is_custom"
                               t-att-data-is_single_and_custom="single_and_custom"/>
                    </label>
                </t>
                <t t-else="">
                    <label data-toggle="tooltip" data-html="true"
                           t-att-data-title="ptav.product_attribute_value_id.name" data-placement="top"
                           t-attf-style="background-color:#{ptav.html_color or ptav.product_attribute_value_id.name if not ptav.is_custom else ''}"
                           t-attf-class="css_attribute_color #{'active' if ptav in combination else ''} #{'custom_value' if ptav.is_custom else ''}">
                        <input type="radio"
                               t-attf-class="js_variant_change  #{ptal.attribute_id.create_variant}"
                               t-att-checked="ptav in combination"
                               t-att-name="'ptal-%s' % ptal.id"
                               t-att-value="ptav.id"
                               t-att-title="ptav.name"
                               t-att-data-value_id="ptav.id"
                               t-att-data-value_name="ptav.name"
                               t-att-data-attribute_name="ptav.attribute_id.name"
                               t-att-data-is_custom="ptav.is_custom"
                               t-att-data-is_single_and_custom="single_and_custom"/>
                    </label>
                </t>
            </li>
        </xpath>
    </template>

    <!--==================== Mega Menu Category Styles ========================-->
    <template id="dynamic_category_mega_menu" name="Dynamic Mega Menu Category Style">
        <t t-set="website_id"
           t-value="request.env['website'].sudo().get_current_website().id"/>
        <t t-set="category_fetch"
           t-value="request.env['product.public.category'].sudo().search([('parent_id', '=', False), ('website_id', 'in', (False, website_id))])"/>
        <!-- Mega Menu Category Style 1 -->
        <section t-if="category_menu_styles == 'style1'"
                class="te_menu_style_1 s_mega_menu_style_1 container-fluid py-3 px-3 te_img_hide_small_devices dynamic_menu" t-att-menu_id="parent_menu.id">
            <div class="container">
                <div class="row">
                    <t t-set="selected_category" t-value="parent_menu.category_selection"/>
                    <t t-if="selected_category == 'all'">
                        <t t-set="parent_menu" t-value="category_fetch"/>
                    </t>
                    <t t-else="">
                        <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
                    </t>
                    <t t-if="parent_menu"
                       t-foreach="parent_menu"
                       t-as="parent_child">
                        <section class="col-lg-3 col-md-3 col-sm-3 col-12">
                            <div class="te_category-heading-center">
                                <div class="d-inline-block">
                                    <t t-if="parent_child.is_category_page">
                                        <t t-set="category_url"
                                           t-value="parent_child.category_page.url"/>
                                    </t>
                                    <t t-else="">
                                        <t t-set="category_url"
                                           t-value="'/shop/category/%s' %slug(parent_child)"/>
                                    </t>
                                    <a class="te_menu_category_heading nav-link d-inline-block"
                                       t-att-href="category_url">
                                        <span t-esc="parent_child.name"/>
                                        <span class="cat_badge badge badge-pill"
                                          t-if="parent_child.menu_label_id"
                                          t-esc="parent_child.menu_label_id.name"
                                          t-att-style="'background-color: %s;color: %s;' % (parent_child.menu_label_id.label_background_color, parent_child.menu_label_id.label_text_color)"
                                    />
                                    </a>
                                </div>
                                <t t-foreach="parent_child.child_id" t-as="child_of_child">
                                    <section class="te_menu_category_item d-inline-block">
                                        <t t-if="child_of_child.is_category_page">
                                            <t t-set="category_url"
                                               t-value="child_of_child.category_page.url"/>
                                        </t>
                                        <t t-else="">
                                            <t t-set="category_url"
                                               t-value="'/shop/category/%s' %slug(child_of_child)"/>
                                        </t>
                                        <a t-att-href="category_url"
                                           class="te_menu_item nav-link d-inline-block">
                                            <span t-esc="child_of_child.name"/>
                                            <span class="cat_badge badge badge-pill"
                                                  t-if="child_of_child.menu_label_id"
                                                  t-esc="child_of_child.menu_label_id.name"
                                                  t-att-style="'background-color: %s;color: %s;' % (child_of_child.menu_label_id.label_background_color, child_of_child.menu_label_id.label_text_color)"
                                            />
                                        </a>
                                    </section>
                                </t>
                            </div>
                        </section>
                    </t>
                </div>
            </div>
        </section>
        <!-- Mega Menu Category Style 2 -->
        <section t-if="category_menu_styles == 'style2'"
                 class="te_menu_style_2 s_mega_menu_style_2 container-fluid dynamic_menu" t-att-menu_id="parent_menu.id">
            <div class="container">
                <div class="row ">
                    <t t-set="selected_category" t-value="parent_menu.category_selection"/>
                    <t t-if="selected_category == 'all'">
                        <t t-set="parent_menu" t-value="category_fetch"/>
                    </t>
                    <t t-else="">
                        <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
                    </t>
                    <t t-if="parent_menu"
                       t-foreach="parent_menu"
                       t-as="parent_child">
                        <section class="col-lg-3 cat-column col-md-4 col-sm-6">
                            <t t-if="parent_child.is_category_page">
                                <t t-set="category_url"
                                   t-value="parent_child.category_page.url"/>
                            </t>
                            <t t-else="">
                                <t t-set="category_url"
                                   t-value="'/shop/category/%s' %slug(parent_child)"/>
                            </t>
                            <a t-att-href="category_url">
                                <section class="te_image">
                                    <span t-if="parent_child.image_1920"
                                          t-field="parent_child.image_1920"
                                          class="demo-icon"
                                          t-options="{'widget': 'image', 'alt-field': 'name', 'itemprop': 'image', 'class': 'img img-responsive img-fluid d-block mx-auto w-100'}"/>
                                    <img t-if="not parent_child.image_1920"
                                         class="img img-responsive img-fluid d-block mx-auto w-100"
                                         alt="Clarico-Mega Menus Style 2"
                                         src="/theme_clarico_vega/static/src/img/snippets/menu_snippets/style_2/340_500.jpg"/>
                                    <section class="te_menu_content">
                                        <h5 class="mb0">
                                            <div class="d-block">
                                                <a t-att-href="category_url"
                                                   class="nav-link d-inline-block break_word"
                                                   t-esc="parent_child.name"/>
                                            </div>
                                        </h5>
                                        <span class="cat_badge badge badge-pill"
                                              t-if="parent_child.menu_label_id"
                                              t-esc="parent_child.menu_label_id.name"
                                              t-att-style="'background-color: %s;color: %s;border-top-color: %s;' % (parent_child.menu_label_id.label_background_color, parent_child.menu_label_id.label_text_color, parent_child.menu_label_id.label_background_color)"
                                        />
                                    </section>
                                </section>
                            </a>
                        </section>
                    </t>
                </div>
            </div>
        </section>
        <!-- Mega Menu Category Style 3 -->
        <section t-if="category_menu_styles == 'style3'"
                class="te_menu_style_4 s_mega_menu_style_4 container-fluid te_icons_menu_main py-3 px-3 dynamic_menu" t-att-menu_id="parent_menu.id">
            <div class="container">
                <div class="row">
                    <t t-set="selected_category" t-value="parent_menu.category_selection"/>
                    <t t-if="selected_category == 'all'">
                        <t t-set="parent_menu" t-value="category_fetch"/>
                    </t>
                    <t t-else="">
                        <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
                    </t>
                    <t t-if="parent_menu"
                       t-foreach="parent_menu"
                       t-as="parent_child">
                        <section class="col-8 te_menu_flip_box col-8-row">
                            <div class="align-items-center">
                                <t t-if="parent_child.is_category_page">
                                    <t t-set="category_url"
                                       t-value="parent_child.category_page.url"/>
                                </t>
                                <t t-else="">
                                    <t t-set="category_url"
                                       t-value="'/shop/category/%s' %slug(parent_child)"/>
                                </t>
                                <section class="text-center col-12 te_icon_text">
                                    <div class="te_menu_flip_box_inner">
                                        <a t-att-href="category_url">
                                        <span t-if="parent_child.image_1920" t-field="parent_child.image_1920"
                                              class="demo-icon"
                                              t-options="{'widget': 'image', 'alt-field': 'name', 'itemprop': 'image', 'class': 'img img-responsive img-fluid d-block mx-auto'}"/>
                                        <img t-if="not parent_child.image_1920"
                                             class="img img-responsive img-fluid d-block mx-auto"
                                             alt="Clarico-Mega Menus Style 4"
                                             src="/theme_clarico_vega/static/src/img/snippets/menu_snippets/style_4/100_100.png"/>
                                        </a>
                                    </div>
                                </section>
                                <section class="py-3 text-center col-12 te_icon_text">
                                    <span class="cat_badge badge badge-pill"
                                          t-if="parent_child.menu_label_id"
                                          t-esc="parent_child.menu_label_id.name"
                                          t-att-style="'background-color: %s;color: %s;border-top-color: %s;' % (parent_child.menu_label_id.label_background_color, parent_child.menu_label_id.label_text_color, parent_child.menu_label_id.label_background_color)"
                                    />
                                    <div class="d-block mt8">
                                        <a t-att-href="category_url"
                                           class="nav-link d-inline-block align-middle"
                                           t-esc="parent_child.name"/>
                                    </div>

                                </section>
                            </div>
                        </section>
                    </t>
                </div>
            </div>
        </section>
        <!-- Mega Menu Category Style 4 -->
        <section t-if="category_menu_styles == 'style4'"
                class="te_menu_style_5 s_mega_menu_style_5 container-fluid py-3 px-3 te_catalog_menu_main te_img_hide_small_devices dynamic_menu" t-att-menu_id="parent_menu.id">
            <div class="container">
                <div class="row">
                    <t t-set="selected_category" t-value="parent_menu.category_selection"/>
                    <t t-if="selected_category == 'all'">
                        <t t-set="parent_menu" t-value="category_fetch"/>
                    </t>
                    <t t-else="">
                        <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
                    </t>
                    <t t-if="parent_menu" t-foreach="parent_menu" t-as="parent_child">
                        <section class="col-lg-2 col-md-4 col-sm-6">
                            <div class="img_container">
                                <div class="te_border_div">
                                    <span t-if="parent_child.image_1920"
                                          t-field="parent_child.image_1920"
                                          class="demo-icon"
                                          t-options="{'widget': 'image', 'alt-field': 'name', 'itemprop': 'image', 'class': 'img img-responsive img-fluid d-block mx-auto'}"/>
                                    <img t-if="not parent_child.image_1920"
                                         class="img img-responsive img-fluid d-block mx-auto"
                                         alt="Clarico-Mega Menus Style 5"
                                         src="/theme_clarico_vega/static/src/img/snippets/menu_snippets/style_5/290_210.jpg"/>
                                </div>
                            </div>
                            <section class="py-lg-3 py-md-3 py-sm-3 py-2">
                                <div class="d-inline-block parent_cat mb8">
                                    <t t-if="parent_child.is_category_page">
                                        <t t-set="category_url"
                                           t-value="parent_child.category_page.url"/>
                                    </t>
                                    <t t-else="">
                                        <t t-set="category_url"
                                           t-value="'/shop/category/%s' %slug(parent_child)"/>
                                    </t>
                                    <a class="te_menu_ctg_main" t-att-href="category_url">
                                        <span t-esc="parent_child.name"/>
                                    </a>
                                    <span class="cat_badge badge badge-pill"
                                          t-if="parent_child.menu_label_id"
                                          t-esc="parent_child.menu_label_id.name"
                                          t-att-style="'background-color: %s;color: %s;' % (parent_child.menu_label_id.label_background_color, parent_child.menu_label_id.label_text_color)"
                                    />
                                </div>
                                <ul>
                                    <section>
                                        <t t-foreach="parent_child.child_id" t-as="child_of_child">
                                            <li>
                                                <div class="d-inline-block mb8">
                                                    <t t-if="child_of_child.is_category_page">
                                                        <t t-set="category_url"
                                                           t-value="child_of_child.category_page.url"/>
                                                    </t>
                                                    <t t-else="">
                                                        <t t-set="category_url"
                                                           t-value="'/shop/category/%s' %slug(child_of_child)"/>
                                                    </t>
                                                    <a class="te_menu_sub nav-link m-0"
                                                       t-att-href="category_url">
                                                        <span t-esc="child_of_child.name"/>
                                                    </a>
                                                    <span class="cat_badge badge badge-pill"
                                                          t-if="child_of_child.menu_label_id"
                                                          t-esc="child_of_child.menu_label_id.name"
                                                          t-att-style="'background-color: %s;color: %s;' % (child_of_child.menu_label_id.label_background_color, child_of_child.menu_label_id.label_text_color)"
                                                    />
                                                </div>
                                            </li>
                                        </t>
                                    </section>
                                </ul>
                            </section>
                        </section>
                    </t>
                </div>
            </div>
        </section>
        <!-- Mega Menu Category Style 5 -->
        <div t-if="category_menu_styles == 'style5'" id="all_dynamic_menu"
                 class="menu-categories-container te_custom_submenu dynamic_menu" t-att-menu_id="parent_menu.id">
            <t t-set="selected_category" t-value="parent_menu.category_selection"/>
            <t t-if="selected_category == 'all'">
                <t t-set="parent_menu" t-value="category_fetch"/>
            </t>
            <t t-else="">
                <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
            </t>
            <div class="container px-0">
                <ul id="menu-categories" class="list-unstyled">
                    <t t-if="parent_menu" t-foreach="parent_menu" t-as="c">
                        <t t-if="c.is_category_page">
                            <t t-set="category_url" t-value="c.category_page.url"/>
                        </t>
                        <t t-else="">
                            <t t-set="category_url" t-value="'/shop/category/%s' %slug(c)"/>
                        </t>
                        <li class="nav-item parent-category" t-att-data-id="c.id">
                            <a t-att-href="category_url"
                               t-attf-class="nav-link te_main_a #{' active' if c.id == int(category or 0) else ''}">
                                <img class="img"
                                     t-attf-src="/website/image/#{c._name}/#{c.id}/icon/30x30"/>
                                <span class="ml-2 d-block">
                                    <span class="category_name" t-field="c.name"></span>
                                    <span class="cat_badge badge badge-pill"
                                          t-if="c.menu_label_id"
                                          t-esc="c.menu_label_id.name"
                                          t-att-style="'background-color: %s;color: %s;' % (c.menu_label_id.label_background_color, c.menu_label_id.label_text_color)"
                                    />
                                </span>
                                <span class="fa fa-angle-right main_category_child"
                                      t-if="c.child_id"/>
                            </a>
                            <section t-if="c.child_id" class="sub-menu-dropdown">
                                <div class="d-none cus_theme_loader_menu">
                                    <div class="menu_loader_div_layout">
                                        <svg xmlns:xlink="http://www.w3.org/1999/xlink"
                                             xmlns="http://www.w3.org/2000/svg"
                                             style="margin:auto;background:transparent;display:block;"
                                             width="100px"
                                             height="100px"
                                             viewBox="0 0 100 100"
                                             preserveAspectRatio="xMidYMid">
                                            <g transform="translate(20 50)">
                                                <circle class="circle1" cx="0" cy="0" r="6">
                                                    <animateTransform
                                                            attributeName="transform"
                                                            type="scale" begin="-0.375s"
                                                            calcMode="spline"
                                                            keySplines="0.3 0 0.7 1;0.3 0 0.7 1"
                                                            values="0;1;0"
                                                            keyTimes="0;0.5;1" dur="1s"
                                                            repeatCount="indefinite"/>
                                                </circle>
                                            </g>
                                            <g transform="translate(40 50)">
                                                <circle class="circle2" cx="0" cy="0" r="6">
                                                    <animateTransform
                                                            attributeName="transform"
                                                            type="scale" begin="-0.25s"
                                                            calcMode="spline"
                                                            keySplines="0.3 0 0.7 1;0.3 0 0.7 1"
                                                            values="0;1;0"
                                                            keyTimes="0;0.5;1" dur="1s"
                                                            repeatCount="indefinite"/>
                                                </circle>
                                            </g>
                                            <g transform="translate(60 50)">
                                                <circle class="circle3" cx="0" cy="0" r="6">
                                                    <animateTransform
                                                            attributeName="transform"
                                                            type="scale" begin="-0.125s"
                                                            calcMode="spline"
                                                            keySplines="0.3 0 0.7 1;0.3 0 0.7 1"
                                                            values="0;1;0"
                                                            keyTimes="0;0.5;1" dur="1s"
                                                            repeatCount="indefinite"/>
                                                </circle>
                                            </g>
                                            <g transform="translate(80 50)">
                                                <circle class="circle4" cx="0" cy="0" r="6">
                                                    <animateTransform
                                                            attributeName="transform"
                                                            type="scale" begin="0s"
                                                            calcMode="spline"
                                                            keySplines="0.3 0 0.7 1;0.3 0 0.7 1"
                                                            values="0;1;0"
                                                            keyTimes="0;0.5;1" dur="1s"
                                                            repeatCount="indefinite"/>
                                                </circle>
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                                <div class="sub-menu-dropdown-content"/>
                            </section>
                            <section t-if="not c.child_id" class="sub-menu-dropdown"/>
                        </li>
                    </t>
                </ul>
            </div>

        </div>
        <!-- Mega Menu Category Style 6 (Nested Menu) -->
        <section t-if="category_menu_styles == 'style6'" id="custom_menu"
                 class="te_custom_submenu dynamic_menu" t-att-menu_id="parent_menu.id">
                <ul id="te_main_ul">
                    <t t-set="selected_category" t-value="parent_menu.category_selection"/>
                <t t-if="selected_category == 'all'">
                    <t t-set="parent_menu" t-value="category_fetch"/>
                </t>
                <t t-else="">
                    <t t-set="parent_menu" t-value="parent_menu.ecom_category.child_id"/>
                </t>
                <t t-if="parent_menu" t-foreach="parent_menu" t-as="c">
                    <t t-call="theme_clarico_vega.web_dynamic_categories_recursive"></t>
                </t>
            </ul>
        </section>
    </template>
</odoo>