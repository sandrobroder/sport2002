<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2016-Present Webkul Software Pvt. Ltd. (<https://webkul.com/>) -->
<!-- See LICENSE file for full copyright and licensing details. -->
<odoo>
    <template id="wk_lazy_load_assets_frontend" inherit_id="website.assets_frontend" name="Lazy Load">
        <xpath expr="." position="inside">
            <link rel="stylesheet" type="text/scss" href="/website_lazy_loading/static/src/scss/wk_lazy_load.scss"/>
            <script src="/website_lazy_loading/static/src/js/wk_lazy_load.js" type="text/javascript"></script>
        </xpath>
    </template>

    <template id="wk_lazy_product_item" name="Lazy Loading Product Item">
      <tr t-foreach="bins" t-as="tr_product">
          <t t-foreach="tr_product" t-as="td_product">
              <t t-if="td_product">
                  <t t-set="product" t-value="td_product['product']" />
                  <!-- We use t-attf-class here to allow easier customization -->
                  <td t-att-colspan="td_product['x'] != 1 and td_product['x']"
                      t-att-rowspan="td_product['y'] != 1 and td_product['y']"
                      t-attf-class="oe_product"
                      t-att-data-ribbon-id="td_product['ribbon'].id">
                      <div t-attf-class="o_wsale_product_grid_wrapper o_wsale_product_grid_wrapper_#{td_product['x']}_#{td_product['y']}">
                          <t t-call="website_sale.products_item">
                              <t t-set="product_image_big" t-value="td_product['x'] + td_product['y'] &gt; 2"/>
                          </t>
                      </div>
                  </td>
              </t>
              <td t-else=""/>
          </t>
      </tr>
    </template>

    <template id="wk_lazy_list_product_item" name="Lazy Loading List View">
        <t t-foreach="products" t-as="product">
            <div class="oe_product oe_list oe_product_cart" t-att-data-publish="product.website_published and 'on' or 'off'">
                <t t-call="website_sale.products_item">
                    <t t-set="show_publish" t-value="True" />
                </t>
            </div>
        </t>
    </template>

    <template id="theme_products_grid_view" inherit_id="website_sale.products" name="Inherit Product grid View">
        <xpath expr="//div[hasclass('products_pager')][1]/t[@t-call='website.pager']" position="replace">
        </xpath>
        <xpath expr="//div[hasclass('products_pager')][last()]" position="replace">
            <div class="products_pager form-inline justify-content-center mt-3">
                <div id="wk_loader">loading ...</div>
            </div>
        </xpath>

        <xpath expr="//div[@id='products_grid_before']" position="inside">
          <div class="selected_filters d-none">
            <t t-if="category">
              <div class="selected_category" t-att-data-index="category.id"></div>
            </t>
            <t t-if="attrib_values">
              <div class="attributes">
                <div class="attrib_list" t-att-data-list="attrib_values"></div>
                <t t-foreach="attrib_values" t-as="attribute_list_ids">
                  <div class="attribute" t-att-data-attribute="attribute_list_ids[0]" t-att-data-attribute-value="attribute_list_ids[1]"></div>
                </t>
              </div>
            </t>
          </div>
        </xpath>
    </template>

</odoo>
